var brilliant;brilliant=(()=>{var e={8773:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{Brilliant:()=>K}),r(7941),r(8309),r(2772),r(4916),r(3123);var o=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"_id",void 0),n(this,"_posX",void 0),n(this,"_posY",void 0)};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_kvadr1",void 0),a(this,"_kvadr2",void 0),a(this,"_X1",void 0),a(this,"_X2",void 0),a(this,"_Y1",void 0),a(this,"_Y2",void 0),a(this,"_VH",""),a(this,"_isSelected",!1),a(this,"_part1ShapeName",void 0),a(this,"_part2ShapeName",void 0)};function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"_kvadrArr",[]),l(this,"_blockArr",[]),l(this,"_errMess",""),l(this,"_blockDic",{}),l(this,"_maxX",0),l(this,"_maxY",0)};function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u,_,p,v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"init",value:function(){2==L._level&&(e._konturDic["6-3"]="H",e._konturDic["7-3"]="H",e._konturDic["5-4"]="H",e._konturDic["6-4"]="H",e._konturDic["7-4"]="H",e._konturDic["8-4"]="H",e._konturDic["4-5"]="V",e._konturDic["5-5"]="H",e._konturDic["6-5"]="H",e._konturDic["7-5"]="H",e._konturDic["8-5"]="H",e._konturDic["9-5"]="V",e._konturDic["3-6"]="V",e._konturDic["4-6"]="V",e._konturDic["9-6"]="V",e._konturDic["10-6"]="V",e._konturDic["2-7"]="V",e._konturDic["3-7"]="V",e._konturDic["4-7"]="V",e._konturDic["9-7"]="V",e._konturDic["10-7"]="V",e._konturDic["11-7"]="V",e._konturDic["2-8"]="V",e._konturDic["3-8"]="V",e._konturDic["4-8"]="V",e._konturDic["9-8"]="V",e._konturDic["10-8"]="V",e._konturDic["11-8"]="V",e._konturDic["3-9"]="V",e._konturDic["4-9"]="V",e._konturDic["9-9"]="V",e._konturDic["10-9"]="V",e._konturDic["4-10"]="V",e._konturDic["5-10"]="H",e._konturDic["6-10"]="H",e._konturDic["7-10"]="H",e._konturDic["8-10"]="H",e._konturDic["9-10"]="V",e._konturDic["5-11"]="H",e._konturDic["6-11"]="H",e._konturDic["7-11"]="H",e._konturDic["8-11"]="H",e._konturDic["6-12"]="H",e._konturDic["7-12"]="H")}},{key:"getStartStr",value:function(){var e;return 0==L._level?e="2:2-2:3;4:2-3:2;4:4-4:3;4:6-4:5;4:7-3:7;2:7-2:6;3:4-2:4;3:5-2:5;":1==L._level?e="3:5-2:5;5:5-4:5;7:5-6:5;9:5-8:5;8:6-9:6;6:6-7:6;4:6-5:6;2:6-3:6;4:4-3:4;6:4-5:4;8:4-7:4;6:3-7:3;4:3-5:3;6:2-5:2;4:7-3:7;6:7-5:7;8:7-7:7;6:8-7:8;4:8-5:8;6:9-5:9;":2==L._level&&(e="6:4-5:4;8:4-7:4;2:7-2:6;3:5-3:6;4:4-4:5;6:3-5:3;8:3-7:3;7:2-6:2;9:5-9:4;10:6-10:5;10:8-10:7;9:9-9:8;9:7-9:6;3:8-3:7;4:7-4:6;4:9-4:8;6:9-5:9;8:9-7:9;6:10-5:10;8:10-7:10;11:6-11:7;6:11-7:11"),e}},{key:"getStartData",value:function(t,r){var n,a,l,c,u,_,p=new s;p._errMess="";var v,d=0;""==r&&(r=e.getStartStr());var f=r.split(";");for(n=0;n<f.length;n++){if(!((c=f[n]).length>=7&&c.indexOf("-")>0)){p._errMess=c;break}if(2!=(a=c.split("-")).length){p._errMess=c+" kv!=2";break}if(_=new i,2!=(l=a[0].split(":")).length){p._errMess=c+" kv12 != 2";break}if(d++,(u=new o)._id=d,u._posX=parseInt(l[0]),u._posY=parseInt(l[1]),p._kvadrArr.push(u),_._kvadr1=u,u._posX>p._maxX&&(p._maxX=u._posX),u._posY>p._maxY&&(p._maxY=u._posY),2!=(l=a[1].split(":")).length){p._errMess=c+" kv12 != 2";break}d++,(u=new o)._id=d,u._posX=parseInt(l[0]),u._posY=parseInt(l[1]),p._kvadrArr.push(u),_._kvadr2=u,u._posX>p._maxX&&(p._maxX=u._posX),u._posY>p._maxY&&(p._maxY=u._posY),_._kvadr1._posX==_._kvadr2._posX?(v="V",_._kvadr1._posY<_._kvadr2._posY?(_._kvadr1._bindSide="bottom",_._kvadr2._bindSide="top",_._Y1=_._kvadr1._posY,_._Y2=_._kvadr2._posY):(_._kvadr2._bindSide="bottom",_._kvadr1._bindSide="top",_._Y1=_._kvadr2._posY,_._Y2=_._kvadr1._posY),_._X1=_._kvadr1._posX,_._X2=_._kvadr1._posX):(v="H",_._kvadr1._posX<_._kvadr2._posX?(_._kvadr1._bindSide="right",_._kvadr2._bindSide="left",_._X1=_._kvadr1._posX,_._X2=_._kvadr2._posX):(_._kvadr2._bindSide="right",_._kvadr1._bindSide="left",_._X1=_._kvadr2._posX,_._X2=_._kvadr1._posX),_._Y1=_._kvadr1._posY,_._Y2=_._kvadr1._posY),_._id=_._kvadr1._id,_._VH=v,p._blockArr.push(_),p._blockDic[_._id]=_}return p}},{key:"getBlockArrFromStr",value:function(e){var t;t=new i,[].push(t)}}],null&&c(t.prototype,null),r&&c(t,r),e}();function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}p={},(_="_konturDic")in(u=v)?Object.defineProperty(u,_,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[_]=p,r(3210);var f=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"_string",void 0),d(this,"_stepType",void 0)};function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"_rotateCount",void 0),g(this,"_moveCount",void 0),g(this,"_stepArr",[]),g(this,"_isComplit",void 0),g(this,"_orientalCount",void 0)};function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(7042);var m=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"_str",void 0),h(this,"_stepType",void 0)};function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"addNewStep",value:function(t,r,n){var o;w("addNewStep() prevStep="+e._currentStepIndex+" src="+n),e._currentStepIndex<e._stepArr.length-1?(w("n="+(o=e._currentStepIndex+1)),e._stepArr=e._stepArr.slice(0,o),w("slice len="+e._stepArr.length),w(e._stepArr)):w("StepHelper._currentStepIndex < "+(e._stepArr.length-1));var a=new m;a._str=t,a._stepType=r,e._stepArr.push(a),e._currentStepIndex=e._stepArr.length-1,K.saveCurrentSolution("addNewStep "),e.setButtons()}},{key:"setButtons",value:function(){document.getElementById("btn_back").disabled=e._stepArr.length<2}},{key:"getStep",value:function(t){return e._stepArr[t]}},{key:"setCurentStepIndex",value:function(t){e._currentStepIndex=t}}],null&&b(t.prototype,null),r&&b(t,r),e}();function w(e){console.log(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}y(S,"_stepArr",[]),y(S,"_currentStepIndex",0);var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"init",value:function(t){e._level=t,0==t||1==t?(e._dayCount=100,e._manCount=100,e._startYCount=1,e._bolnicaMax=100):2==t&&(e._dayCount=100,e._manCount=100,e._startYCount=1,e._bolnicaMax=20)}}],null&&x(t.prototype,null),r&&x(t,r),e}();function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}C(Y,"_level",void 0),C(Y,"_dayCount",void 0),C(Y,"_manCount",void 0),C(Y,"_startYCount",void 0),C(Y,"_toRedDays",14),C(Y,"_toBlueDays",28),C(Y,"_toGreenDays",0),C(Y,"_stukByDayCount",1),C(Y,"_maskZ",.5),C(Y,"_maskEE",.8),C(Y,"_karEE",.8),C(Y,"_bolnicaCount",100),C(Y,"_zarazKoef",.01),C(Y,"_kT",1);var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"getModifedString",value:function(){var e,t,r,n="",o="",a="",i=0,l=null,s=null;if(L._movedBlockId>0){var c=L.getBlockById(L._movedBlockId),u=c._kvadr1._posX,_=c._kvadr2._posX,p=c._kvadr1._posY,v=c._kvadr2._posY;for("V"==c._VH?u!=L._moveToX?(i=1,u=L._moveToX,_=L._moveToX,X("mmmmmm1")):(p=L._moveToY,v=L._moveToY+1,X("mmmmmm2"),i=1):p!=L._moveToY?(i=1,p=L._moveToY,v=L._moveToY,X("mmmmmm3")):(u=L._moveToX,_=L._moveToX+1,X("mmmmmm4"),i=1),o=u+":"+p+"-"+_+":"+v+";",e=0;e<L._blockArr.length;e++)(c=L._blockArr[e])._id==L._movedBlockId?n+=o:n=n+c._kvadr1._posX+":"+c._kvadr1._posY+"-"+c._kvadr2._posX+":"+c._kvadr2._posY+";"}else{for(var d in r=0,L._selectedBlocksDicById)L._selectedBlocksDicById.hasOwnProperty(d)&&(1==++r?l=L._selectedBlocksDicById[d]:2==r&&(s=L._selectedBlocksDicById[d]));if(null!=l&&null!=s){var g=Math.min(l._kvadr1._posX,l._kvadr2._posX,s._kvadr1._posX,s._kvadr2._posX),k=Math.min(l._kvadr1._posY,l._kvadr2._posY,s._kvadr1._posY,s._kvadr2._posY);"V"==l._VH?(o=g+":"+k+"-"+(g+1)+":"+k,a=g+":"+(k+1)+"-"+(g+1)+":"+(k+1)):(o=g+":"+k+"-"+g+":"+(k+1),a=g+1+":"+k+"-"+(g+1)+":"+(k+1))}for(e=0;e<L._blockArr.length;e++)t=L._blockArr[e],null!=l&&t._id==l._id&&""!=o?n+=o:null!=s&&t._id==s._id&&""!=a?n+=a:n=n+t._kvadr1._posX+":"+t._kvadr1._posY+"-"+t._kvadr2._posX+":"+t._kvadr2._posY,n+=";"}L._movedBlockId=0,L._movedBlock=null;var h=new f;return h._string=n,h._stepType=i,h}},{key:"getCurrentString",value:function(){var e,t,r="";for(e=0;e<L._blockArr.length;e++)r=r+(t=L._blockArr[e])._kvadr1._posX+":"+t._kvadr1._posY+"-"+t._kvadr2._posX+":"+t._kvadr2._posY+";";return r}},{key:"getCurrentSolution",value:function(e){X("SolutionHelper.getCurrentSolution() src="+e);var t,r,n,o,a=new k;for(a._moveCount=0,a._rotateCount=-1,a._isComplit=!1,a._orientalCount=0,o=0;o<S._stepArr.length;o++)1==(t=S._stepArr[o])._stepType?a._moveCount++:a._rotateCount++,a._stepArr.push(t);a._isComplit=!0;var i=100,l=100;if(0==L._level){var s,c=[];for(o=0;o<L._blockArr.length;o++)r=L._blockArr[o],c.push(r._kvadr1),c.push(r._kvadr2),r._kvadr1._posX<l&&(l=r._kvadr1._posX),r._kvadr2._posX<l&&(l=r._kvadr2._posX),r._kvadr1._posY<i&&(i=r._kvadr1._posY),r._kvadr2._posY<i&&(i=r._kvadr2._posY);for(var u=i;u<i+4;u++)for(o=0;o<c.length;o++){if((s=c[o])._posX<l||s._posX>l+3){X("Ошибка в  ряду по X  - minY="+i+" minX="+l+" y="+u),a._isComplit=!1;break}if(s._posY>i+3){X("Ошибка в  ряду  по Y  - minY="+i+" minX="+l+" y="+u),a._isComplit=!1;break}}}else if(1==L._level){var _=[];for(o=0;o<L._blockArr.length;o++){if("H"==(r=L._blockArr[o])._VH){a._isComplit=!1,X("Ошибка вертикалки");break}_.push(r._kvadr1),_.push(r._kvadr2),r._kvadr1._posX<l&&(l=r._kvadr1._posX),r._kvadr2._posX<l&&(l=r._kvadr2._posX),r._kvadr1._posY<i&&(i=r._kvadr1._posY),r._kvadr2._posY<i&&(i=r._kvadr2._posY)}if(a._isComplit){var p,d,f,g,h;1==L._level&&(i=2);for(var m=i;m<i+4;m++){if(h=7,m==i+(g=0)||m==i+h){for(d=0,f=0,o=0;o<_.length;o++)if(!((p=_[o])._posY!=i+g&&p._posY!=i+h||p._posX!=l+3&&p._posX!=l+4))if(p._posY==i+g){if(++d>2)break}else if(++f>2)break;if(2!=d){X("Ошибка в  ряду 1 - minY="+i+" kCount="+d+" y="+m+" nY="+g),a._isComplit=!1;break}if(2!=f){X("Ошибка в  ряду 8 - minY="+i+" kCount2="+f+" y="+m+" nY2="+h),a._isComplit=!1;break}}if(h=6,m==i+(g=1)||m==i+h){for(d=0,f=0,o=0;o<_.length;o++)if(!((p=_[o])._posY!=i+g&&p._posY!=i+h||p._posX!=l+2&&p._posX!=l+3&&p._posX!=l+4&&p._posX!=l+5))if(p._posY==i+g){if(++d>4)break}else if(++f>4)break;if(4!=d){X("Ошибка в  ряду 2 - minY="+i+" kCount="+d+" y="+m+" nY="+g),a._isComplit=!1;break}if(4!=f){X("Ошибка в  ряду 7 - minY="+i+" kCount2="+f+" y="+m+" nY2="+h),a._isComplit=!1;break}}if(h=5,m==i+(g=2)||m==i+h){for(d=0,f=0,o=0;o<_.length;o++)if(!((p=_[o])._posY!=i+g&&p._posY!=i+h||p._posX!=l+1&&p._posX!=l+2&&p._posX!=l+3&&p._posX!=l+4&&p._posX!=l+5&&p._posX!=l+6))if(p._posY==i+g){if(++d>6)break}else if(++f>6)break;if(6!=d){X("Ошибка в  ряду 3 - minY="+i+" kCount="+d+" y="+m+" nY="+g),a._isComplit=!1;break}if(6!=f){X("Ошибка в  ряду 6 - minY="+i+" kCount2="+f+" y="+m+" nY2="+h),a._isComplit=!1;break}}if(h=4,m==i+(g=3)||m==i+h){for(d=0,f=0,o=0;o<_.length;o++)if(!((p=_[o])._posY!=i+g&&p._posY!=i+h||p._posX!=l+0&&p._posX!=l+1&&p._posX!=l+2&&p._posX!=l+3&&p._posX!=l+4&&p._posX!=l+5&&p._posX!=l+6&&p._posX!=l+7))if(p._posY==i+g){if(++d>8)break}else if(++f>8)break;if(8!=d){X("Ошибка в  ряду 4 - minY="+i+" kCount="+d+" y="+m+" nY="+g),a._isComplit=!1;break}if(8!=f){X("Ошибка в  ряду 5 - minY="+i+" kCount2="+f+" y="+m+" nY2="+h),a._isComplit=!1;break}}}}}else if(2==L._level){var b=v._konturDic;for(o=0;o<L._blockArr.length;o++)r=L._blockArr[o],b.hasOwnProperty(r._kvadr1._posX-0+"-"+(r._kvadr1._posY+1))?(n=b[r._kvadr1._posX-0+"-"+(r._kvadr1._posY+1)],r._VH!=n&&a._orientalCount++):(X("Ошибка контура1"),a._isComplit=!1),b.hasOwnProperty(r._kvadr2._posX-0+"-"+(r._kvadr2._posY+1))?(n=b[r._kvadr2._posX-0+"-"+(r._kvadr2._posY+1)],r._VH!=n&&a._orientalCount++):(X("Ошибка контура2"),a._isComplit=!1)}return a}},{key:"compareStrings",value:function(e,t){var r;e=e.trim(),t=t.trim();for(var n=e.split(";"),o={},a=!0,i=0;i<n.length;i++)2==(r=n[i].split("-")).length&&(o[r[0]+"-"+r[1]]=1,o[r[1]+"-"+r[0]]=1);n=t.split(";");for(var l=0;l<n.length;l++)if(""!=n[l]&&!o.hasOwnProperty(n[l])){a=!1;break}return a}}],null&&T(t.prototype,null),r&&T(t,r),e}();function X(e){console.log(e)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"drawAll",value:function(t){var r,n,o,a;K._stageTop.removeAllEventListeners(),K._stageTop.removeAllChildren(),K._stageBot.removeAllEventListeners(),K._stageBot.removeAllChildren();var i=new createjs.Shape;i.x=0,i.y=0,i.graphics.beginFill("#1f2a60"),i.alpha=.5,i.graphics.drawRect(0,0,L._W,L._H),i.graphics.endFill(),K._stageBot.addChild(i),K._stageTop.on("stagemousemove",(function(t){e._stageX=t.stageX,e._stageY=t.stageY;var r=K._stageTop.getObjectUnderPoint(t.stageX,t.stageY);e.onMouseMove(r)})),K._stageTop.on("stagemouseup",(function(e){}));var l,s=L._storona,c={};for(1==L._level?(c["5-3"]=1,c["6-3"]=1,c["4-4"]=1,c["5-4"]=1,c["6-4"]=1,c["7-4"]=1,c["3-5"]=1,c["4-5"]=1,c["5-5"]=1,c["6-5"]=1,c["7-5"]=1,c["8-5"]=1,c["2-6"]=1,c["3-6"]=1,c["4-6"]=1,c["5-6"]=1,c["6-6"]=1,c["7-6"]=1,c["8-6"]=1,c["9-6"]=1,c["2-7"]=1,c["3-7"]=1,c["4-7"]=1,c["5-7"]=1,c["6-7"]=1,c["7-7"]=1,c["8-7"]=1,c["9-7"]=1,c["3-8"]=1,c["4-8"]=1,c["5-8"]=1,c["6-8"]=1,c["7-8"]=1,c["8-8"]=1,c["4-9"]=1,c["5-9"]=1,c["6-9"]=1,c["7-9"]=1,c["5-10"]=1,c["6-10"]=1):2==L._level&&(c=v._konturDic),(l=new createjs.Shape).id="kletki",l.x=0,l.y=0,K._stageBot.addChild(l),l.graphics.setStrokeStyle(2),l.graphics.beginStroke("#ffffff"),l.graphics.beginFill("lightpink"),l.alpha=.5,r=0;r<L._klentkiCountX;r++)for(var u=0;u<L._klentkiCountY;u++)1!=L._level&&2!=L._level||c.hasOwnProperty(r+"-"+u)&&(o=s*r,a=s*u,l.graphics.moveTo(o,a),l.graphics.lineTo(o+s,a),l.graphics.lineTo(o+s,a-s),l.graphics.lineTo(o,a-s),l.graphics.lineTo(o,a));l.graphics.endStroke();var _=[];for(r=0;r<L._blockArr.length;r++)(n=L._blockArr[r])._isSelected=L.isSelected(n._id),n._isSelected?_.push(n):e.drawBlock2(n,K._stageTop,!0,L._storona,K._stageBot);for(r=0;r<_.length;r++)n=_[r],e.drawBlock2(n,K._stageTop,!0,L._storona,K._stageBot);K._stageBot.update(),K._stageTop.update();var p,d,f=document.getElementById("stepContDiv");if(f.innerHTML="",S._stepArr.length>1){var g=document.createElement("button");g.innerHTML="&#8810;",g.setAttribute("title","Шаг назад"),g.className="step_div_back",g.addEventListener("click",(function(e){L.delLastStep()})),f.appendChild(g)}for(r=0;r<S._stepArr.length;r++)p=S._stepArr[r],(d=document.createElement("div")).id="step_"+r,d.innerHTML=r,d.setAttribute("step_index",r),r==S._currentStepIndex?d.className="step_div step_div_current":d.className="step_div",p._stepType,d.addEventListener("click",(function(e){var t=this.getAttribute("step_index");L.gotoStep(parseInt(t))})),d.addEventListener("mouseover",(function(e){var t=this.getAttribute("step_index");L.drawStepPrev(t)})),f.appendChild(d)}},{key:"onMouseMove",value:function(t){if(t&&t.hasOwnProperty("id")){if("kletki"==t.id)return;L._lastMouseObjectId!=t.id&&(L._lastMouseObjectId=t.id,(null==t.id?L.clearSelectedBlocks("mmm"):L.setSelectedBlocks(t._pos,t._blockId,1))&&(K.saveCurrentSolution("DrawHelper.onMouseMove"),e.drawAll("mousemove setSelectedBlocks")))}else"empty"!=L._lastMouseObjectId&&(L._lastMouseObjectId="empty",L.clearSelectedBlocks("mmm")&&e.drawAll("mousemove empty"))}},{key:"drawBlock2",value:function(t,r,n,o,a){var i,l,s,c,u=t._X1*o,_=t._Y1*o;s=1==L._level&&"V"==t._VH?n?K.kioapi.getResource("block_big_light_1"):K.kioapi.getResource("block_small_light_1"):n?K.kioapi.getResource("block_big_"+L._level):K.kioapi.getResource("block_small_"+L._level),(c=new createjs.Bitmap(s)).x=u,c.y=_,"H"==t._VH&&(c.rotation=90,c.x=u+2*o),a.addChild(c),t._part1ShapeId=t._kvadr1._id,t._part2ShapeId=t._kvadr2._id,t._part1ShapeName="part"+t._kvadr1._id,t._part2ShapeName="part"+t._kvadr2._id,(i=new createjs.Shape)._b12=1,i.id=t._part1ShapeId,i.name=t._part1ShapeName,i._blockId=t._id,i._VH=t._VH,i.x=u,i.y=_,"V"==t._VH?(i.graphics.drawRect(0,0,o/2,2*o),i._pos="L",(l=new createjs.Shape).graphics.beginFill("#000").rect(0,0,o/2,2*o),i.hitArea=l):(i.graphics.drawRect(0,0,2*o,o/2),i._pos="T",(l=new createjs.Shape).graphics.beginFill("#000").rect(0,0,2*o,o/2),i.hitArea=l),t._isSelected&&0==L._mouseDown?e.drawKontur12(i,"blue",4,o):e.drawKontur12(i,"black",1,o),n&&i.on("click",(function(e){L.click(e.target),L._mouseDown=!1})),n&&i.on("mousedown",(function(e){L._mouseDown=!0,L.onMouseDown(e.target)})),r.addChild(i),(i=new createjs.Shape)._b12=2,i.id=t._part2ShapeId,i.name=t._part2ShapeName,i._VH=t._VH,i._blockId=t._id,"V"==t._VH?(i.x=u+o/2,i.y=_,i.graphics.drawRect(0,0,o/2,2*o),i._pos="R",(l=new createjs.Shape).graphics.beginFill("#000").rect(0,0,o/2,2*o),i.hitArea=l):(i.x=u,i.y=_+o/2,i.graphics.drawRect(0,0,2*o,o/2),i._pos="B",(l=new createjs.Shape).graphics.beginFill("#000").rect(0,0,2*o,o/2),i.hitArea=l),t._isSelected&&0==L._mouseDown?e.drawKontur12(i,"blue",4,o):e.drawKontur12(i,"black",1,o),n&&i.on("click",(function(e){L.click(e.target),L._mouseDown=!1})),n&&i.on("mousedown",(function(e){L._mouseDown=!0,L.onMouseDown(e.target)})),r.addChild(i)}},{key:"drawKontur12",value:function(e,t,r,n){"blue"==t?(t="#ffffff",r=3):(t="#1e2b55",r=1),e.graphics.beginStroke(t),e.graphics.setStrokeStyle(r),1==e._b12?"V"==e._VH?(e.graphics.moveTo(n/2,0),e.graphics.lineTo(0,0),e.graphics.lineTo(0,2*n),e.graphics.lineTo(n/2,2*n)):(e.graphics.moveTo(0,n/2),e.graphics.lineTo(0,0),e.graphics.lineTo(2*n,0),e.graphics.lineTo(2*n,n/2)):"V"==e._VH?(e.graphics.moveTo(0,0),e.graphics.lineTo(n/2,0),e.graphics.lineTo(n/2,2*n),e.graphics.lineTo(0,2*n)):(e.graphics.moveTo(0,0),e.graphics.lineTo(0,n/2),e.graphics.lineTo(2*n,n/2),e.graphics.lineTo(2*n,0)),e.graphics.endStroke()}},{key:"drawStepPrev",value:function(t){var r,n,o=S.getStep(t),a=v.getStartData("drawStepPrev",o._str);K._stagePrevBot.removeAllChildren(),K._stagePrev.removeAllChildren();var i=new createjs.Shape;for(i.x=0,i.y=0,i.graphics.beginFill("#1f2a60"),i.alpha=.7,i.graphics.drawRect(0,0,L._wP,L._hP),i.graphics.endFill(),K._stagePrevBot.addChild(i),n=0;n<a._blockArr.length;n++)r=a._blockArr[n],e.drawBlock2(r,K._stagePrev,!1,L._storonaPrev,K._stagePrevBot);K._stagePrevBot.update(),K._stagePrev.update(),document.getElementById("prevInfoDiv").innerHTML="шаг "+t}}],null&&A(t.prototype,null),r&&A(t,r),e}();function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}B(I,"_stageX",0),B(I,"_stageY",0),B(I,"_firstDraw",!1);var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"canMove2",value:function(e,t,r,n){var o,a,i=!0;if(isNaN(r)||isNaN(n))return i=!1,!1;if(M._mouseDownX1==r&&M._mouseDownY1==n&&Math.abs(M._mouseDownX-I._stageX)+Math.abs(M._mouseDownY-I._stageY)<10)return i=!1,!1;if(Math.abs(t._X1-r)>1||Math.abs(t._Y1-n)>1||1==Math.abs(t._X1-r)&&1==Math.abs(t._Y1-n))return i=!1,!1;for(o=0;o<L._blockArr.length;o++)if((a=L._blockArr[o])._id!=t._id){if(a._X1==r&&a._Y1==n||a._X2==r&&a._Y1==n||a._X1==r&&a._Y2==n||a._X2==r&&a._Y2==n){i=!1;break}if("H"==t._VH){if(a._X1==r+1&&a._Y1==n||a._X2==r+1&&a._Y1==n||a._X1==r+1&&a._Y2==n||a._X2==r+1&&a._Y2==n){i=!1;break}}else if(a._X1==r&&a._Y1==n+1||a._X2==r&&a._Y1==n+1||a._X1==r&&a._Y2==n+1||a._X2==r&&a._Y2==n+1){i=!1;break}}return i}}],null&&O(t.prototype,null),r&&O(t,r),e}();function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"draw",value:function(t,r){if(null!=L._movedBlock){var n,o,a,i,l=L._ctxST,s=L._movedBlock;l.clearRect(0,0,L._canvasSuperTop.width,L._canvasSuperTop.height),n=s._X1*L._storona,o=s._Y1*L._storona,e._mouseDownX,L._storona,e._mouseDownY,L._storona,n=t-L._storona/2,o=r-L._storona/2,"V"==s._VH?(a=L._storona,i=2*L._storona):(a=2*L._storona,i=L._storona),l.beginPath(),l.lineWidth=2,l.strokeStyle="red",l.strokeRect(n,o,a,i),l.stroke();var c=Math.floor((t-0)/L._storona),u=Math.floor((r-0)/L._storona);n=c*L._storona,o=u*L._storona,E.canMove2("111",s,c,u)&&(l.beginPath(),l.lineWidth=2,l.strokeStyle="white",l.strokeRect(n,o,a,i),l.stroke())}}},{key:"clear",value:function(){L._ctxST.clearRect(0,0,L._canvasSuperTop.width,L._canvasSuperTop.height),e._mouseDownX=-1,e._mouseDownY=-1}},{key:"setMouseDown",value:function(t,r){e._mouseDownX=t,e._mouseDownY=r,e._mouseDownX1=Math.floor((t-0)/L._storona),e._mouseDownY1=Math.floor((r-0)/L._storona)}}],null&&P(t.prototype,null),r&&P(t,r),e}();function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}j(M,"_mouseDownX",void 0),j(M,"_mouseDownY",void 0),j(M,"_mouseDownX1",void 0),j(M,"_mouseDownY1",void 0);var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"start",value:function(t){var r,n=v.getStartData("start",e._blocksStr);L._klentkiCountX=n._maxX+2+1,L._klentkiCountY=n._maxY+2+2;var o=(n._maxX+2)*L._storona+L._storona+4,a=(n._maxY+2)*L._storona+L._storona+4;L._W=o,L._H=a,t.style.backgroundImage='url("./brilliant-resources/background.png")';var i=document.createElement("div");i.innerHTML="",i.id="canvasContDiv",i.className="canvas_cont_div",i.style.width=o+"px",i.style.height=a+"px",t.appendChild(i);var l=document.createElement("canvas");l.width=o,l.height=a,l.className="canvas_top",l.id="canvas_bot",i.appendChild(l),L._canvasBot=l;var s=document.createElement("canvas");s.width=o,s.height=a,s.className="canvas_top",s.id="canvas_top",i.appendChild(s),L._canvasTop=s,L._canvasSuperTop=document.createElement("canvas"),L._canvasSuperTop.width=o,L._canvasSuperTop.height=a,L._canvasSuperTop.className="canvas_supertop",L._canvasSuperTop.id="canvas_supertop",i.appendChild(L._canvasSuperTop),L._ctxST=L._canvasSuperTop.getContext("2d");var c=document.createElement("div");c.innerHTML="",c.id="bottomContDiv",c.className="bottom_cont_div",t.appendChild(c);var u=document.createElement("div");u.innerHTML="",u.id="stepContDiv",u.className="step_cont_div",t.appendChild(u);var _=document.createElement("button");_.id="btn_back",_.innerHTML="Шаг назад",_.className="step_btn",_.addEventListener("click",(function(e){L.goBackClick()})),c.appendChild(_),(_=document.createElement("button")).id="btn_forward",_.innerHTML="Шаг вперед",_.className="step_btn",_.addEventListener("click",(function(e){L.goForwardClick()})),c.appendChild(_);var p=document.createElement("div");p.innerHTML="",p.id="prevDiv",p.className="prevDiv",p.style.left=o+20+"px",t.appendChild(p);var d=(n._maxX+2)*L._storonaPrev+L._storonaPrev+4,f=(n._maxY+2)*L._storonaPrev+L._storonaPrev+4;L._wP=d,L._hP=f;var g=document.createElement("div");g.innerHTML="",g.id="canvasContDiv2",g.className="canvas_cont_div",g.style.width=d+"px",g.style.height=f+"px",p.appendChild(g);var k=document.createElement("canvas");k.width=d,k.height=f,k.className="canvas_prev",g.appendChild(k);var h=document.createElement("canvas");h.width=d,h.height=f,h.className="canvas_prev_bot",g.appendChild(h);var m,b=document.createElement("div");for(b.innerHTML='<div id="prevInfoDiv" class="prevInfoDiv"></div>',b.id="prevInfoDiv1",b.className="prevInfoDiv1",p.appendChild(b),K._stagePrevBot=new createjs.Stage(h),K._stagePrev=new createjs.Stage(k),K._stagePrevBot.nextStage=K._stagePrev,K._stageBot=new createjs.Stage(l),K._stageTop=new createjs.Stage(s),K._stageTop.enableMouseOver(1),K._stageSuperTop=new createjs.Stage(L._canvasSuperTop),K._stageSuperTop.enableMouseOver(1),K._stageSuperTop.on("stagemousedown",(function(e){M.setMouseDown(e.stageX,e.stageY)})),K._stageSuperTop.on("stagemousemove",(function(e){L._mouseDown&&null!=L._movedBlock&&M.draw(e.stageX,e.stageY)})),K._stageSuperTop.on("stagemouseup",(function(e){var t=Math.floor(e.stageX/L._storona),r=Math.floor(e.stageY/L._storona);L._movedBlockId>0&&L.moveBlock(t,r),L._mouseDown=!1,M.clear()})),K._stageTop.nextStage=K._stageBot,K._stageSuperTop.nextStage=K._stageTop,e.createNewFromString("start",e._blocksStr),r=0;r<n._kvadrArr.length;r++)m=n._kvadrArr[r],L._startKvadrDic[m._posX+"-"+m._posY]=1;L._startKvadrDic}},{key:"createNewFromString",value:function(e,t){var r=v.getStartData("createNewFromString",t);L._blockStr=t,L._blockArr=r._blockArr,L._blockDic=r._blockDic,""!=r._errMess?r._errMess:I.drawAll("Start.createNewFromString")}}],null&&H(t.prototype,null),r&&H(t,r),e}();function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(V,"_blocksStr",void 0);var L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"isSelected",value:function(t){return e._selectedBlocksDicById.hasOwnProperty(t)}},{key:"setSelectedBlocks",value:function(t,r,n){var o,a,i=!0,l=e._blockDic[r],s=!1;for(o=0;o<e._blockArr.length;o++)if((a=e._blockArr[o])._VH==l._VH&&a._id!=l._id)if("L"==t){if("V"==l._VH&&l._X1==a._X1+1&&l._Y1==a._Y1){s=!0;break}}else if("R"==t){if("V"==l._VH&&l._X1==a._X1-1&&l._Y1==a._Y1){s=!0;break}}else if("T"==t){if("H"==l._VH&&l._Y1==a._Y1+1&&l._X1==a._X1){s=!0;break}}else if("B"==t&&"H"==l._VH&&l._Y1==a._Y1-1&&l._X1==a._X1){s=!0;break}var c={};for(var u in e._selectedBlocksDicById)e._selectedBlocksDicById.hasOwnProperty(u)&&(c[u]=e._selectedBlocksDicById[u]);return s?(e._selectedBlocksDicById={},e._selectedBlocksDicById[l._id]=l,e._selectedBlocksDicById[a._id]=a,c.hasOwnProperty(l._id)&&c.hasOwnProperty(a._id)&&(i=!1)):1==n?("L"==t?t="R":"R"==t?t="L":"T"==t?t="B":"B"==t&&(t="T"),i=e.setSelectedBlocks(t,r,2)):e._selectedBlocksDicById={},i}},{key:"clearSelectedBlocks",value:function(t){var r=Object.keys(e._selectedBlocksDicById).length>0;return e._selectedBlocksDicById={},r}},{key:"onMouseDown",value:function(t){if(t&&t.hasOwnProperty("id")&&null!=t.id){var r=e.getBlockById(t._blockId);e._XY2MoveDic={},null!=r?(e._movedBlockId=r._id,e._movedBlock=r,M.draw()):e._movedBlock=null}}},{key:"moveBlock",value:function(t,r){if(e._movedBlockId>0){var n=e.getBlockById(e._movedBlockId);E.canMove2("222",n,t,r)&&(e._moveToX=t,e._moveToY=r,e._canClick=!1,e.modifySolution("move"))}}},{key:"getBlockById",value:function(t){return e._blockDic.hasOwnProperty(t)?e._blockDic[t]:null}},{key:"click",value:function(t){if(e._movedBlockId=0,t&&t.hasOwnProperty("id")&&null!=t.id){e._canClick&&e.modifySolution("click"),e._canClick=!0,e.clearSelectedBlocks(),e._lastMouseObjectId="";var r=K._stageTop.getObjectUnderPoint(I._stageX,I._stageY);I.onMouseMove(r)}}},{key:"modifySolution",value:function(t){var r=D.getCurrentString(),n=D.getModifedString();D.compareStrings(n._string,r)||(S.addNewStep(n._string,n._stepType,"modifySolution-"+t),V.createNewFromString("Global.modifySolution",n._string),D.getCurrentSolution("modifySolution"),K.saveCurrentSolution("modifySolution")),e._canClick=!0}},{key:"goBackClick",value:function(){var t=S._currentStepIndex-1;e.gotoStep(t)}},{key:"goForwardClick",value:function(){var t=S._currentStepIndex+1;e.gotoStep(t)}},{key:"gotoStep",value:function(e){e<0&&(e=0);var t=S.getStep(e);S.setCurentStepIndex(e),V.createNewFromString("gotoStep",t._str)}},{key:"drawStepPrev",value:function(e){I.drawStepPrev(e)}},{key:"applaySolution",value:function(t){if(t){if(t._stepArr.length>0){var r=t._stepArr[t._stepArr.length-1],n=v.getStartData("applaySolution1",r._str);e._blockDic=n._blockDic,e._selectedBlocksDicById={},e._blockArr=n._blockArr,S._stepArr=t._stepArr,S._currentStepIndex=S._stepArr.length-1,I.drawAll("Global.applaySolution() sidx="+S._currentStepIndex)}else{var o=v.getStartData("applaySolution2",V._blocksStr);e._blockDic=o._blockDic,e._blockArr=o._blockArr,S._stepArr=[],S._currentStepIndex=0,S.addNewStep(V._blocksStr,0,"start"),e.drawStepPrev(0),I.drawAll("Global.applaySolution() clear")}K.saveCurrentSolution("applaySolution")}}},{key:"delLastStep",value:function(){e.gotoStep(S._currentStepIndex-1)}}],null&&N(t.prototype,null),r&&N(t,r),e}();function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}R(L,"_level",void 0),R(L,"_klentkiCountX",void 0),R(L,"_klentkiCountY",void 0),R(L,"_storona",40),R(L,"_storonaPrev",20),R(L,"_blockArr",[]),R(L,"_blockDic",{}),R(L,"_blockStr",""),R(L,"_selectedBlocksDicById",{}),R(L,"_lastMouseObjectId","empty"),R(L,"_mouseDown",!1),R(L,"_movedBlockId",0),R(L,"_XY2MoveDic",{}),R(L,"_moveToX",0),R(L,"_moveToY",0),R(L,"_movedBlock",null),R(L,"_canvasSuperTop",void 0),R(L,"_ctxST",void 0),R(L,"_appStarted",!1),R(L,"_movedBlockFake",null),R(L,"_canClick",!0),R(L,"_startKvadrDic",[]);var K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),G(this,"level",void 0),this.settings=t,this.level=t.level}var t,r,n;return t=e,n=[{key:"preloadManifest",value:function(){return[{id:"background",src:"brilliant-resources/background.png"},{id:"block_big_0",src:"brilliant-resources/Gem_40_80_light.png"},{id:"block_small_0",src:"brilliant-resources/Gem_20_40_light.png"},{id:"block_big_1",src:"brilliant-resources/TealGem40_80_dark.png"},{id:"block_small_1",src:"brilliant-resources/TealGem_20_40_dark.png"},{id:"block_big_2",src:"brilliant-resources/YellowGem40_80_light.png"},{id:"block_small_2",src:"brilliant-resources/YellowGem20_40_light.png"},{id:"block_big_light_1",src:"brilliant-resources/TealGem40_80_light.png"},{id:"block_small_light_1",src:"brilliant-resources/TealGem_20_40_light.png"}]}},{key:"saveCurrentSolution",value:function(t){z("saveCurrentSolution src="+t);var r=D.getCurrentSolution("saveCurrentSolution");2==L._level?e.kioapi.submitResult({_isComplit:r._isComplit,_orientalCount:r._orientalCount,_rotateCount:r._rotateCount,_moveCount:r._moveCount}):e.kioapi.submitResult({_isComplit:r._isComplit,_rotateCount:r._rotateCount,_moveCount:r._moveCount})}},{key:"drawAll",value:function(e){L.drawAll(e)}}],(r=[{key:"id",value:function(){return"brilliant"+this.settings.level}},{key:"initialize",value:function(t,r,n){L._level=this.level,e.kioapi=r,z("initialize"),t.style.position="relative",this.initInterface(t,n)}},{key:"parameters",value:function(){z("parameters ()");var e,t={name:"_moveCount",title:"Количество перемещений:",ordering:"minimize"},r={name:"_rotateCount",title:"Количество поворотов:",ordering:"minimize"};0==this.level||1==this.level?e="Собрано":2==this.level&&(e="В рамках");var n={name:"_isComplit",title:e,ordering:"maximize",view:function(e){return e?"Да":"Нет"}};return 2==this.level?[n,{name:"_orientalCount",title:"Смена ориентации:",ordering:"maximize"},t,r]:[n,t,r]}},{key:"solution",value:function(){z("solution()");var e=D.getCurrentSolution("solution");return JSON.stringify(e)}},{key:"loadSolution",value:function(e){if(z("loadSolution()"),L._appStarted||(L._appStarted=!0),void 0!==e){var t=JSON.parse(e);L.applaySolution(t)}else S.addNewStep(V._blocksStr,0,"start"),L.drawStepPrev(0),I.drawAll("Global.applaySolution() start")}},{key:"initInterface",value:function(e,t){z("initInterface()"),this._domNode=e,v.init(),V._blocksStr=v.getStartStr(),V.start(e)}}])&&F(t.prototype,r),n&&F(t,n),e}();function z(e){console.log(e)}G(K,"kioapi",null),G(K,"_stageBottom",void 0),G(K,"_stageTop",void 0)},3099:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9670:(e,t,r)=>{var n=r(111);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},1318:(e,t,r)=>{var n=r(5656),o=r(7466),a=r(1400),i=function(e){return function(t,r,i){var l,s=n(t),c=o(s.length),u=a(i,c);if(e&&r!=r){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},1194:(e,t,r)=>{var n=r(7293),o=r(5112),a=r(7392),i=o("species");e.exports=function(e){return a>=51||!n((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,r)=>{"use strict";var n=r(7293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},9207:(e,t,r)=>{var n=r(9781),o=r(7293),a=r(6656),i=Object.defineProperty,l={},s=function(e){throw e};e.exports=function(e,t){if(a(l,e))return l[e];t||(t={});var r=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:s,_=a(t,1)?t[1]:void 0;return l[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:s}):e[1]=1,r.call(e,u,_)}))}},4326:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},9920:(e,t,r)=>{var n=r(6656),o=r(3887),a=r(1236),i=r(3070);e.exports=function(e,t){for(var r=o(t),l=i.f,s=a.f,c=0;c<r.length;c++){var u=r[c];n(e,u)||l(e,u,s(t,u))}}},8880:(e,t,r)=>{var n=r(9781),o=r(3070),a=r(9114);e.exports=n?function(e,t,r){return o.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,r)=>{"use strict";var n=r(7593),o=r(3070),a=r(9114);e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},9781:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,r)=>{var n=r(7854),o=r(111),a=n.document,i=o(a)&&o(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},8113:(e,t,r)=>{var n=r(5005);e.exports=n("navigator","userAgent")||""},7392:(e,t,r)=>{var n,o,a=r(7854),i=r(8113),l=a.process,s=l&&l.versions,c=s&&s.v8;c?o=(n=c.split("."))[0]+n[1]:i&&(!(n=i.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,r)=>{var n=r(7854),o=r(1236).f,a=r(8880),i=r(1320),l=r(3505),s=r(9920),c=r(4705);e.exports=function(e,t){var r,u,_,p,v,d=e.target,f=e.global,g=e.stat;if(r=f?n:g?n[d]||l(d,{}):(n[d]||{}).prototype)for(u in t){if(p=t[u],_=e.noTargetGet?(v=o(r,u))&&v.value:r[u],!c(f?u:d+(g?".":"#")+u,e.forced)&&void 0!==_){if(typeof p==typeof _)continue;s(p,_)}(e.sham||_&&_.sham)&&a(p,"sham",!0),i(r,u,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1320),o=r(7293),a=r(5112),i=r(2261),l=r(8880),s=a("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),_=a("replace"),p=!!/./[_]&&""===/./[_]("a","$0"),v=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,_){var d=a(e),f=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=f&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[s]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!g||"replace"===e&&(!c||!u||p)||"split"===e&&!v){var k=/./[d],h=r(d,""[e],(function(e,t,r,n,o){return t.exec===i?f&&!o?{done:!0,value:k.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=h[0],b=h[1];n(String.prototype,e,m),n(RegExp.prototype,d,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}_&&l(RegExp.prototype[d],"sham",!0)}},5005:(e,t,r)=>{var n=r(857),o=r(7854),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},7854:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:e=>{var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},3501:e=>{e.exports={}},4664:(e,t,r)=>{var n=r(9781),o=r(7293),a=r(317);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,r)=>{var n=r(7293),o=r(4326),a="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a.call(e,""):Object(e)}:Object},2788:(e,t,r)=>{var n=r(5465),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},9909:(e,t,r)=>{var n,o,a,i=r(8536),l=r(7854),s=r(111),c=r(8880),u=r(6656),_=r(5465),p=r(6200),v=r(3501),d=l.WeakMap;if(i){var f=_.state||(_.state=new d),g=f.get,k=f.has,h=f.set;n=function(e,t){return t.facade=e,h.call(f,e,t),t},o=function(e){return g.call(f,e)||{}},a=function(e){return k.call(f,e)}}else{var m=p("state");v[m]=!0,n=function(e,t){return t.facade=e,c(e,m,t),t},o=function(e){return u(e,m)?e[m]:{}},a=function(e){return u(e,m)}}e.exports={set:n,get:o,has:a,enforce:function(e){return a(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!s(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},3157:(e,t,r)=>{var n=r(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},4705:(e,t,r)=>{var n=r(7293),o=/#|\.prototype\./,a=function(e,t){var r=l[i(e)];return r==c||r!=s&&("function"==typeof t?n(t):!!t)},i=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},s=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},111:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},1913:e=>{e.exports=!1},7850:(e,t,r)=>{var n=r(111),o=r(4326),a=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},133:(e,t,r)=>{var n=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},8536:(e,t,r)=>{var n=r(7854),o=r(2788),a=n.WeakMap;e.exports="function"==typeof a&&/native code/.test(o(a))},3070:(e,t,r)=>{var n=r(9781),o=r(4664),a=r(9670),i=r(7593),l=Object.defineProperty;t.f=n?l:function(e,t,r){if(a(e),t=i(t,!0),a(r),o)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:(e,t,r)=>{var n=r(9781),o=r(5296),a=r(9114),i=r(5656),l=r(7593),s=r(6656),c=r(4664),u=Object.getOwnPropertyDescriptor;t.f=n?u:function(e,t){if(e=i(e),t=l(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return a(!o.f.call(e,t),e[t])}},8006:(e,t,r)=>{var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},6324:(e,t,r)=>{var n=r(6656),o=r(5656),a=r(1318).indexOf,i=r(3501);e.exports=function(e,t){var r,l=o(e),s=0,c=[];for(r in l)!n(i,r)&&n(l,r)&&c.push(r);for(;t.length>s;)n(l,r=t[s++])&&(~a(c,r)||c.push(r));return c}},1956:(e,t,r)=>{var n=r(6324),o=r(748);e.exports=Object.keys||function(e){return n(e,o)}},5296:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},3887:(e,t,r)=>{var n=r(5005),o=r(8006),a=r(5181),i=r(9670);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},857:(e,t,r)=>{var n=r(7854);e.exports=n},1320:(e,t,r)=>{var n=r(7854),o=r(8880),a=r(6656),i=r(3505),l=r(2788),s=r(9909),c=s.get,u=s.enforce,_=String(String).split("String");(e.exports=function(e,t,r,l){var s,c=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,v=!!l&&!!l.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||o(r,"name",t),(s=u(r)).source||(s.source=_.join("string"==typeof t?t:""))),e!==n?(c?!v&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:i(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},7651:(e,t,r)=>{var n=r(4326),o=r(2261);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},2261:(e,t,r)=>{"use strict";var n,o,a=r(7066),i=r(2999),l=RegExp.prototype.exec,s=String.prototype.replace,c=l,u=(n=/a/,o=/b*/g,l.call(n,"a"),l.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),_=i.UNSUPPORTED_Y||i.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||_)&&(c=function(e){var t,r,n,o,i=this,c=_&&i.sticky,v=a.call(i),d=i.source,f=0,g=e;return c&&(-1===(v=v.replace("y","")).indexOf("g")&&(v+="g"),g=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(d="(?: "+d+")",g=" "+g,f++),r=new RegExp("^(?:"+d+")",v)),p&&(r=new RegExp("^"+d+"$(?!\\s)",v)),u&&(t=i.lastIndex),n=l.call(c?r:i,g),c?n?(n.input=n.input.slice(f),n[0]=n[0].slice(f),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:u&&n&&(i.lastIndex=i.global?n.index+n[0].length:t),p&&n&&n.length>1&&s.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=c},7066:(e,t,r)=>{"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:(e,t,r)=>{"use strict";var n=r(7293);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},4488:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},3505:(e,t,r)=>{var n=r(7854),o=r(8880);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},6200:(e,t,r)=>{var n=r(2309),o=r(9711),a=n("keys");e.exports=function(e){return a[e]||(a[e]=o(e))}},5465:(e,t,r)=>{var n=r(7854),o=r(3505),a="__core-js_shared__",i=n[a]||o(a,{});e.exports=i},2309:(e,t,r)=>{var n=r(1913),o=r(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(e,t,r)=>{var n=r(9670),o=r(3099),a=r(5112)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||null==(r=n(i)[a])?t:o(r)}},8710:(e,t,r)=>{var n=r(9958),o=r(4488),a=function(e){return function(t,r){var a,i,l=String(o(t)),s=n(r),c=l.length;return s<0||s>=c?e?"":void 0:(a=l.charCodeAt(s))<55296||a>56319||s+1===c||(i=l.charCodeAt(s+1))<56320||i>57343?e?l.charAt(s):a:e?l.slice(s,s+2):i-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},6091:(e,t,r)=>{var n=r(7293),o=r(1361);e.exports=function(e){return n((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},3111:(e,t,r)=>{var n=r(4488),o="["+r(1361)+"]",a=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),l=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(a,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},1400:(e,t,r)=>{var n=r(9958),o=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):a(r,t)}},5656:(e,t,r)=>{var n=r(8361),o=r(4488);e.exports=function(e){return n(o(e))}},9958:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},7466:(e,t,r)=>{var n=r(9958),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},7908:(e,t,r)=>{var n=r(4488);e.exports=function(e){return Object(n(e))}},7593:(e,t,r)=>{var n=r(111);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},9711:e=>{var t=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+r).toString(36)}},3307:(e,t,r)=>{var n=r(133);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5112:(e,t,r)=>{var n=r(7854),o=r(2309),a=r(6656),i=r(9711),l=r(133),s=r(3307),c=o("wks"),u=n.Symbol,_=s?u:u&&u.withoutSetter||i;e.exports=function(e){return a(c,e)||(l&&a(u,e)?c[e]=u[e]:c[e]=_("Symbol."+e)),c[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},2772:(e,t,r)=>{"use strict";var n=r(2109),o=r(1318).indexOf,a=r(9341),i=r(9207),l=[].indexOf,s=!!l&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),u=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:s||!c||!u},{indexOf:function(e){return s?l.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},7042:(e,t,r)=>{"use strict";var n=r(2109),o=r(111),a=r(3157),i=r(1400),l=r(7466),s=r(5656),c=r(6135),u=r(5112),_=r(1194),p=r(9207),v=_("slice"),d=p("slice",{ACCESSORS:!0,0:0,1:2}),f=u("species"),g=[].slice,k=Math.max;n({target:"Array",proto:!0,forced:!v||!d},{slice:function(e,t){var r,n,u,_=s(this),p=l(_.length),v=i(e,p),d=i(void 0===t?p:t,p);if(a(_)&&("function"!=typeof(r=_.constructor)||r!==Array&&!a(r.prototype)?o(r)&&null===(r=r[f])&&(r=void 0):r=void 0,r===Array||void 0===r))return g.call(_,v,d);for(n=new(void 0===r?Array:r)(k(d-v,0)),u=0;v<d;v++,u++)v in _&&c(n,u,_[v]);return n.length=u,n}})},8309:(e,t,r)=>{var n=r(9781),o=r(3070).f,a=Function.prototype,i=a.toString,l=/^\s*function ([^ (]*)/,s="name";n&&!(s in a)&&o(a,s,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(e){return""}}})},7941:(e,t,r)=>{var n=r(2109),o=r(7908),a=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){a(1)}))},{keys:function(e){return a(o(e))}})},4916:(e,t,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},3123:(e,t,r)=>{"use strict";var n=r(7007),o=r(7850),a=r(9670),i=r(4488),l=r(6707),s=r(1530),c=r(7466),u=r(7651),_=r(2261),p=r(7293),v=[].push,d=Math.min,f=4294967295,g=!p((function(){return!RegExp(f,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(i(this)),a=void 0===r?f:r>>>0;if(0===a)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,a);for(var l,s,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,g=new RegExp(e.source,p+"g");(l=_.call(g,n))&&!((s=g.lastIndex)>d&&(u.push(n.slice(d,l.index)),l.length>1&&l.index<n.length&&v.apply(u,l.slice(1)),c=l[0].length,d=s,u.length>=a));)g.lastIndex===l.index&&g.lastIndex++;return d===n.length?!c&&g.test("")||u.push(""):u.push(n.slice(d)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=i(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,o,r):n.call(String(o),t,r)},function(e,o){var i=r(n,e,this,o,n!==t);if(i.done)return i.value;var _=a(e),p=String(this),v=l(_,RegExp),k=_.unicode,h=(_.ignoreCase?"i":"")+(_.multiline?"m":"")+(_.unicode?"u":"")+(g?"y":"g"),m=new v(g?_:"^(?:"+_.source+")",h),b=void 0===o?f:o>>>0;if(0===b)return[];if(0===p.length)return null===u(m,p)?[p]:[];for(var y=0,S=0,w=[];S<p.length;){m.lastIndex=g?S:0;var x,C=u(m,g?p:p.slice(S));if(null===C||(x=d(c(m.lastIndex+(g?0:S)),p.length))===y)S=s(p,S,k);else{if(w.push(p.slice(y,S)),w.length===b)return w;for(var Y=1;Y<=C.length-1;Y++)if(w.push(C[Y]),w.length===b)return w;S=y=x}}return w.push(p.slice(y)),w}]}),!g)},3210:(e,t,r)=>{"use strict";var n=r(2109),o=r(3111).trim;n({target:"String",proto:!0,forced:r(6091)("trim")},{trim:function(){return o(this)}})}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(8773)})();